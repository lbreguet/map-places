function initAutocomplete(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:-33.8688,lng:151.2195},zoom:13,mapTypeId:"roadmap"}),o=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(o);e.controls[google.maps.ControlPosition.TOP_LEFT].push(o),e.addListener("bounds_changed",function(){n.setBounds(e.getBounds())});var a=[];n.addListener("places_changed",function(){var o=n.getPlaces();if(0!==o.length){a.forEach(function(e){e.setMap(null)}),a=[];var t=new google.maps.LatLngBounds;o.forEach(function(o){if(o.geometry){var n={url:o.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};a.push(new google.maps.Marker({map:e,icon:n,title:o.name,position:o.geometry.location})),o.geometry.viewport?t.union(o.geometry.viewport):t.extend(o.geometry.location)}else console.log("Returned place contains no geometry")}),e.fitBounds(t)}})}function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:-33.867,lng:151.206},zoom:15,styles:[{stylers:[{visibility:"simplified"}]},{elementType:"labels",stylers:[{visibility:"off"}]}]}),infoWindow=new google.maps.InfoWindow,service=new google.maps.places.PlacesService(map),map.addListener("idle",performSearch)}function performSearch(){var e={bounds:map.getBounds(),keyword:"best view"};service.radarSearch(e,callback)}function callback(e,o){if(o===google.maps.places.PlacesServiceStatus.OK)for(var n,a=0;n=e[a];a++)addMarker(n);else console.error(o)}function addMarker(e){var o=new google.maps.Marker({map:map,position:e.geometry.location,icon:{url:"https://developers.google.com/maps/documentation/javascript/images/circle.png",anchor:new google.maps.Point(10,10),scaledSize:new google.maps.Size(10,17)}});google.maps.event.addListener(o,"click",function(){service.getDetails(e,function(e,n){n===google.maps.places.PlacesServiceStatus.OK?(infoWindow.setContent(e.name),infoWindow.open(map,o)):console.error(n)})})}var map,infoWindow,service;